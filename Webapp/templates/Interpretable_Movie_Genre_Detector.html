<!-- Page Movie_Genre_Detector.html -->
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interpretable Movie Genre Detector</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/Interpretable_Movie_Genre_Predictor.css') }}">
</head>
<body>
    <header class="header">
        <a href="/" class="home-button">Accueil</a>
        <h1 class="title">Movie Genre Detector</h1>
      </header>
      
    
    <main>
        <section class="Working-Area">

            <!-- Instruction text for image upload and prediction -->
            <p class="instruction-text">
                Please upload a movie poster image, then click "Submit" to upload. After the image appears, click "Predict" to get the genre prediction.
            </p>

            <div class="Image-Uploading-Area">
                <label for="image">Upload an image:</label>
                <input type="file" id="image" name="image" accept="image/*">
                <button id='submit-btn' type="submit">Submit</button>
            </div>
            <div class="Image-Display-Area">
                <img src="" alt="Image to predict">
            </div>
            <!-- Ajout du bouton Predict -->
            <div class="Predict-Area">
                <button id="predict-btn">Predict</button>
            </div>
            <div class="Prediction-Area">
                <p>The predicted genre is:</p>
                <p id="predicted-genre">{{ Best_Genre }}</p>
                <table>
                    <thead>
                        <tr>
                            <th>Genre</th>
                            <th>Probability</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr id="action-row">
                            <td>Action</td>
                            <td id="action-probability">0%</td>
                        </tr>
                        <tr id="animation-row">
                            <td>Animation</td>
                            <td id="animation-probability">0%</td>
                        </tr>
                        <tr id="comedy-row">
                            <td>Comedy</td>
                            <td id="comedy-probability">0%</td>
                        </tr>
                        <tr id="documentary-row">
                            <td>Documentary</td>
                            <td id="documentary-probability">0%</td>
                        </tr>
                        <tr id="drama-row">
                            <td>Drama</td>
                            <td id="drama-probability">0%</td>
                        </tr>
                        <tr id="fantasy-row">
                            <td>Fantasy</td>
                            <td id="fantasy-probability">0%</td>
                        </tr>
                        <tr id="horror-row">
                            <td>Horror</td>
                            <td id="horror-probability">0%</td>
                        </tr>
                        <tr id="romance-row">
                            <td>Romance</td>
                            <td id="romance-probability">0%</td>
                        </tr>
                        <tr id="science-fiction-row">
                            <td>Science Fiction</td>
                            <td id="science-fiction-probability">0%</td>
                        </tr>
                        <tr id="thriller-row">
                            <td>Thriller</td>
                            <td id="thriller-probability">0%</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Interpretability Section -->
        <div class="Interpretability-Area">

            <!-- Instruction text for interpretability -->

            
            <h2>Interpretability</h2>   
            <p class="instruction-text">
                Select an interpretability method from the dropdown, validate your choice, then click "Interpret" to see how the model explains its prediction.
            </p>
            <!-- Choix de la méthode -->
            <div class="Interpret-Method-Choice">
                <label for="interpret-method">Method :</label>
                <select id="interpret-method" name="interpret-method">
                    <option value="LIME">LIME</option>
                    <option value="Gradients">Gradients</option>
                    <option value="Grad-CAM">Grad-CAM</option>
                </select>
                <button id="confirm-method-btn">Validate</button>
            </div>

            <!-- Bouton pour déclencher l'interprétation -->
            <div class="Interpret-Button-Area">
                <button id="interpret-btn">Interprer</button>
            </div>

            <!-- Affichage de l'image interprétée -->
            <div class="Interpret-Image-Area">
                <p>Interpretability Result:</p>
                <img id="interpret-image" src="" alt="Interpreted image" style="display: none; max-width: 100%; border: 2px solid #ccc; margin-top: 10px;">
            </div>
        </div>

    </main>
    <script src="{{ url_for('static', filename='javascript/Interpretable_Movie_Genre_Predictor.js') }}"></script>
</body>
</html>
